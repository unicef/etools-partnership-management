<link rel="import" href="../../../bower_components/etools-currency-amount-input/etools-currency-behavior.html">
<link rel="import" href="../../../bower_components/paper-styles/element-styles/paper-material-styles.html">
<link rel="import" href="../common-elements/etools-form-element-wrapper.html">
<link rel="import" href="../common-elements/etools-single-file.html">

<link rel="import" href="../../../styles/page-common-styles.html">
<link rel="import" href="../../../styles/grid-layout-styles.html">
<link rel="import" href="../../../styles/shared-styles.html">


<link rel="import" href="../../app-behaviors/common-behavior.html">

<dom-module id="report-summary">

  <template>

    <style include="page-common-styles grid-layout-styles shared-styles paper-material-styles">
      div[elevation="1"] {
        @apply --paper-material-elevation-1;
      }
    </style>


    <div class="content-section">
      <div class="row-h">
        <div class="col col-6">
          <etools-form-element-wrapper label="Submitted by">
            [[getDisplayValue(report.submitted_by)]]
          </etools-form-element-wrapper>
        </div>
        <div class="col col-6">
          <etools-form-element-wrapper label="Submission date">
            [[getDateDisplayValue(report.submission_date)]]
          </etools-form-element-wrapper>
        </div>
      </div>
      <div class="row-h">
        <div class="col col-12">
          <etools-form-element-wrapper label="Partner contribution to date">
            [[getDisplayValue(report.partner_contribution_to_date)]]
          </etools-form-element-wrapper>
        </div>
      </div>
      <div class="row-h">
        <div class="col col-12">
          <etools-form-element-wrapper label="Funds received to date">
            [[displayCurrencyAmount(report.funds_received_to_date, '0')]] [[report.funds_received_to_date_currency]]
            ([[getDisplayValue(report.funds_received_to_date_percentage)]]%)
          </etools-form-element-wrapper>
        </div>
      </div>
      <div class="row-h">
        <div class="col col-12">
          <etools-form-element-wrapper label="Challneges/bottlenecks in the reporting period (latest)">
            [[getDisplayValue(report.challenges_in_the_reporting_period)]]
          </etools-form-element-wrapper>
        </div>
      </div>
      <div class="row-h">
        <div class="col col-12">
          <etools-form-element-wrapper label="Proposed way forward (latest)">
            [[getDisplayValue(report.proposed_way_forward)]]
          </etools-form-element-wrapper>
        </div>
      </div>
      <div class="row-h" hidden>
        <div class="col col-12">
          <etools-single-file label="Attachments"
                              readonly>
          </etools-single-file>
        </div>
      </div>
    </div>

  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'report-summary',
        behaviors: [
          etoolsBehaviors.EtoolsCurrencyBehavior,
          EtoolsPmpApp.Behaviors.Common
        ],
        properties: {
          report: Object
        },

        attached: function() {
          /**
           * Disable loading message for report summary tab elements load,
           * triggered by parent element on stamp or by tap event on tabs
           */
          this.fire('global-loading', {active: false, loadingSource: 'reports-page'});
          // this.fire('reports-page-attached');
        },
      });

    })();
  </script>

</dom-module>
