<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-toggle-button/paper-toggle-button.html">
<link rel="import"
      href="../../../bower_components/etools-searchable-multiselection-menu/etools-single-selection-menu.html">
<link rel="import"
      href="../../../bower_components/etools-searchable-multiselection-menu/etools-multi-selection-menu.html">

<link rel="import" href="../../../styles/grid-layout-styles.html">
<link rel="import" href="../../../styles/shared-styles.html">

<link rel="import" href="../common-elements/etools-form-element-wrapper.html">
<link rel="import" href="../../app-config/etools-app-config.html">
<link rel="import" href="../static-common-data/redux-behaviors/common-static-data-redux-behavior.html">

<dom-module id="intervention-sector-locations">
  <template strip-whitespace>
    <style include="grid-layout-styles shared-styles ">
      [hidden] {
        display: none !important;
      }

      :host {
        display: block;
        width: 100%;
      }

      #bottom-actions {
        padding-bottom: 10px;
      }

      paper-toggle-button {
        font-size: 16px;
      }
    </style>
    <div class="row-h flex-c">
      <etools-multi-selection-menu id="sections"
                                   label="Section(s)"
                                   placeholder="&#8212;"
                                   selected-values="{{item.sections}}"
                                   options="[[sectors]]"
                                   option-label="name"
                                   option-value="id"
                                   required$="[[required]]"
                                   auto-validate
                                   error-message="Please select a sector"
                                   readonly$="[[!editMode]]">
      </etools-mlti-selection-menu>
    </div>
    <div class="row-h flex-c">
      <div class="col col-3">
        <paper-toggle-button checked="{{intervention.contributesToClusters}}" disabled="[[!editMode]]">Contributes to Clusters</paper-toggle-button>
      </div>
      <div class="col col-9">
        <etools-form-element-wrapper label="Clusters PD/SSFA Contributes To">
          TODO
        </etools-form-element-wrapper>
      </div>
    </div>
    <div class="row-h flex-c">
      <div class="col col-3">
        <etools-single-selection-menu label="Locations - Admin Level"
                                      placeholder="&#8212;"
                                      selected-values="{{intervention.adminLevelLocations}}"
                                      options="[[adminLevelLocations]]"
                                      option-label="name"
                                      option-value="id"
                                      required$="[[required]]"
                                      auto-validate
                                      error-message="Please select an Admin Level Location"
                                      readonly$="[[!editMode]]">
      </etools-single-selection-menu>
      </div>
      <div class="col col-9">
        <etools-form-element-wrapper label="Locations PD/SSFA Covers">
          TODO
        </etools-form-element-wrapper>
      </div>
    </div>
    <div class="row-h flex-c">
      <div class="col col-3">
        <etools-single-selection-menu
                                    label="Reporting frequency"
                                    placeholder="&#8212;"
                                    selected-values="{{intervention.rportingFrequency}}"
                                    options="[[rportingFrequencies]]"
                                    option-label="name"
                                    option-value="id"
                                    required$="[[required]]"
                                    auto-validate
                                    error-message="Please select Reporting Frequency"
                                    readonly$="[[!editMode]]">
        </etools-single-selection-menu>
      </div>
      <div class="col col-9">
         <etools-form-element-wrapper label="Reporting Periods">
          TODO  See more >
         </etools-form-element-wrapper>
      </div>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'intervention-sector-locations',

        behaviors: [
          etoolsAppConfig.globals,
          pmpBehaviors.EtoolsStaticCommonDataReduxBehavior
        ],

        properties: {
          sectors: {
            type: Array,
            statePath: 'sectors'
          },
          adminLevelLocations: {
            type: Array,
            //statePath: 'adminLevelLocations'
          },
          required: {
            type: Boolean,
            value: false
          },
          editMode: {
            type: Boolean
          }
        },
        validate: function() {
          var valid = true;
          valid = this.$$('#sections').validate();
          //TODO
          return valid;
        },

      });
    })();
  </script>
</dom-module>
