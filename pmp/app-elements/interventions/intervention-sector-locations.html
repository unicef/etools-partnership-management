<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import"
      href="../../../bower_components/etools-searchable-multiselection-menu/etools-single-selection-menu.html">
<link rel="import"
      href="../../../bower_components/etools-searchable-multiselection-menu/etools-multi-selection-menu.html">

<link rel="import" href="../../../styles/grid-layout-styles.html">
<link rel="import" href="../../../styles/shared-styles.html">

<link rel="import" href="../common-elements/etools-form-element-wrapper.html">
<link rel="import" href="../../app-config/etools-app-config.html">
<link rel="import" href="../static-common-data/redux-behaviors/common-static-data-redux-behavior.html">

<dom-module id="intervention-sector-locations">
  <template strip-whitespace>
    <style include="grid-layout-styles shared-styles ">
      [hidden] {
        display: none !important;
      }

      :host {
        display: block;
        width: 100%;
      }

      #bottom-actions {
        padding-bottom: 10px;
      }
    </style>
    <div class="row-h flex-c">
      <etools-multi-selection-menu id="sections"
                                   label="Section(s)"
                                   placeholder="&#8212;"
                                   selected-values="{{item.sections}}"
                                   options="[[sectors]]"
                                   option-label="name"
                                   option-value="id"
                                   required$="[[required]]"
                                   auto-validate
                                   error-message="Please select a sector"
                                   readonly$="[[!editMode]]">
      </etools-mlti-selection-menu>
    </div>
    <div class="row-h flex-c">
      <etools-form-element-wrapper label="Clusters PD/SSFA Contributes To">
        TODO [[intervention.clusterNames]]
      </etools-form-element-wrapper>
    </div>
    <div class="row-h flex-c">
      <etools-form-element-wrapper label="Locations PD/SSFA Covers">
        TODO [[intervention.locationNames]]
      </etools-form-element-wrapper>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'intervention-sector-locations',

        behaviors: [
          etoolsAppConfig.globals,
          pmpBehaviors.EtoolsStaticCommonDataReduxBehavior
        ],

        properties: {
          sectors: {
            type: Array,
            statePath: 'sectors'
          },
          required: {
            type: Boolean,
            value: false
          },
          editMode: {
            type: Boolean
          }
        },
        validate: function() {
          var valid = true;
          valid = this.$$('#sections').validate();
          //TODO
          return valid;
        },

      });
    })();
  </script>
</dom-module>
