<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/etools-ajax/etools-ajax-request-behavior.html">
<link rel="import" href="../../../../bower_components/etools-behaviors/etools-logs-behavior.html">

<link rel="import" href="../../../../scripts/lodash/lodash.html">
<link rel="import" href="../../../app-config/app-endpoints-behavior.html">
<link rel="import" href="../../../app-config/app-dexie-db-config.html">

<dom-module id="reporting-requirement-item-data">

  <script>
    (function() {
      'use strict';
      Polymer({

        is: 'reporting-requirement-item-data',
        behaviors: [
          EtoolsAjaxRequestBehavior,
          EtoolsPmpApp.Behaviors.Endpoints
        ],
        properties: {
          endpointName: {
            type: String,
            value: 'reportRequirementsItem'
          }
        },

        deleteRequirement: function(requirement) {
          let endpoint = this.getEndpoint(this.endpointName, {reportId: requirement.id});

          return this.sendRequest({method: 'DELETE', endpoint: endpoint});
        },

        updateRequirement: function(requirement) {
          let endpoint = this.getEndpoint(this.endpointName, {reportId: requirement.id});

          return this.sendRequest({method: 'PATCH', endpoint: endpoint, body: requirement});
        }
      });
    })();
  </script>

</dom-module>
