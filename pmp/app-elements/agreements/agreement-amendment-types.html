<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<link rel="import" href="../../../styles/grid-layout-styles.html">
<link rel="import" href="../../../styles/shared-styles.html">
<link rel="import" href="../../../styles/repeatable-data-sets-styles.html">

<link rel="import" href="../../app-behaviors/repeatable-data-sets-behavior.html">
<link rel="import" href="./agreement-behaviors/agreement-amendments-behavior.html">

<dom-module id="agreement-amendment-types">
  <template>
    <style include="grid-layout-styles shared-styles repeatable-data-sets-styles">
      [hidden] {
        display: none !important;
      }

      :host {
        display: block;
        width: 100%;
        padding: 7px 0;
      }

      .add-amendment-type-wrapper {
        margin-top: 25px;
      }

    </style>

    <div hidden$="[[_emptyList(dataItems.length)]]">
      <template is="dom-repeat" items="{{dataItems}}">
        <div class="row-h item-container">
          <div class="row-h item-actions-container">
            <div class="row-v actions">
              <paper-icon-button class="action delete"
                                 on-tap="_openDeleteConfirmation"
                                 data-args$="[[index]]"
                                 icon="cancel"></paper-icon-button>
            </div>
          </div>
          <div class="row-v flex-c item-content">

            <div class="row">

          </div>

        </div>
      </template>
    </div>

    <div class="row-h add-amendment-type-wrapper">
      <paper-button class="basic-btn"
                 on-tap="_addNewAmendmentType"
                 title="Add Amendment Type">
        Add Amendment Type
      </paper-button>
    </div>

  </template>

  <script>
    (function () {
      'use strict';

      Polymer({
        is: 'agreement-amendment-types',

        behaviors: [
          pmpBehaviors.RepeatableDataSetsBehavior,
          pmpBehaviors.AgreementAmendmentsBehavior
        ],

        properties: {},

        ready: function () {
          // TODO: refactor this data model, might not have the same properties with the API data
          this.dataSetModel = {
            amendment_type_id: null,
            amendment_type: null,
            officer_id: null,
            bank_info: null,
            legal_name_of_ip: null,
            cp_cycle_start: null,
            cp_cycle_end: null,
            additional_clauses: null,
            existing_clause_amended: null
          };

          this.set('editMode', true);
          this.set('_amendmentTypes', [
            'Change in Legal Name of Implementing Partner',
            'Extension of Country Programme Cycle',
            'Change Authorized Officer',
            'Banking Information',
            'Additional Clause',
            'Amend Existing Clause'
          ]);
        },

      });
    })();
  </script>
</dom-module>
