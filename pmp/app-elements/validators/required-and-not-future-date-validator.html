<link rel="import" href="../../../bower_components/iron-validator-behavior/iron-validator-behavior.html">
<script>
  Polymer({

    is: 'required-and-not-future-date-validator',

    behaviors: [
      Polymer.IronValidatorBehavior
    ],

    validate: function(dateValueStr) {
      if (!dateValueStr) {
        return false;
      }
      var d = Date.parse(dateValueStr);
      if (isNaN(d)) {
        // invalid date string
        return false;
      }
      // date ca not be in the future
      return d <= Date.now();
    }

  });

</script>
