<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/etools-ajax/etools-ajax.html">
<link rel="import" href="../partners-data/partners-data.html">

<dom-module id="partner-data">

  <template>
    <partners-data id-map="{{_partners}}"></partners-data>
  </template>

  <script>

    Polymer({

      is: 'partner-data',

      properties: {

        partner: {
          type: Object,
          readOnly: true,
          notify: true,
          computed: '_getPartner(_partners, partnerId)'
        },

        _partners: {
          type: Object
        },

        partnerId: {
          type: Number,
          notify: true
        }

      },

      _getPartner: function(_partners, id) {
        if (!_partners) {
          return;
        }
        id = parseInt(id);
        if (id) {
          return _partners[id];
        } else {
          console.error('You must provide a valid partner ID');
        }
      }

    });

  </script>

</dom-module>
