<script>

  window.EtoolsPmpApp = window.EtoolsPmpApp || {};
  window.EtoolsPmpApp.Behaviors = window.EtoolsPmpApp.Behaviors || {};

  /** @polymerBehavior EtoolsPmpApp.Behaviors.ScrollControl */
  EtoolsPmpApp.Behaviors.ScrollControl = {

    properties: {
      contentContainer: {
        type: Object,
        value: function() {
          return this._getContentContainer();
        }
      },
      _positionChangeDisabled: {
        type: Boolean,
        value: false
      }
    },

    _getContentContainer: function() {
      if (window.isIE) {
        return document.documentElement;
      }
      let appShell = document.querySelector('app-shell');
      if (!appShell) {
        return null;
      }
      let appHeadLayout = appShell.$$('#appHeadLayout');
      if (!appHeadLayout) {
        return null;
      }
      return appHeadLayout.$$('#contentContainer');
    },

    _setContentScrollPosition: function(offsetFromTop) {
      this.contentContainer.scrollTop = offsetFromTop;
    },

    disableContentScrollPositionChanges: function() {
      this._positionChangeDisabled = true;
    },

    enableContentScrollPositionChanges: function() {
      this._positionChangeDisabled = false;
    },

    scrollPageToTop: function() {
      if (!this._positionChangeDisabled) {
        this._setContentScrollPosition(0);
      }
    }

  };
</script>
