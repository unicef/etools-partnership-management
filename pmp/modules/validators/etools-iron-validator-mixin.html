<link rel="import" href="../../../bower_components/iron-meta/iron-meta.html">

<script>
  window.EtoolsPmpApp = window.EtoolsPmpApp || {};
  window.EtoolsPmpApp.Mixins = window.EtoolsPmpApp.Mixins || {};
  /**
   * `EtoolsPmpApp.Mixins.EtoolsIronValidator` can be used for complex validations for different fields where
   * the error message can be different for the same field.
   * For example: "Date field is required" or "Date can not be in the future"
   * Elements instances implementing this behavior will be registered for use in elements that implement
   * `Polymer.IronValidatableBehavior`.
   *
   * @polymer
   * @mixinFunction
   */
  EtoolsPmpApp.Mixins.EtoolsIronValidator = Polymer.dedupingMixin(
      superClass => class extends superClass {
        static get properties() {
          return {
            validatorName: {
              type: String,
              value: ''
            }
          };
        }

        ready() {
          super.ready();

          if (!this.validatorName) {
            throw new Error('[EtoolsPmpApp.Mixins.EtoolsIronValidator] Validator name property can not be empty!');
          }
          new Polymer.IronMeta({
            type: 'validator',
            key: this.validatorName,
            value: this});
        }

        /**
         * Implement custom validation logic in this function.
         * @param {Object} values The value to validate. May be any type depending on the validation logic.
         */
        validate(values) {
        }

      });
</script>
