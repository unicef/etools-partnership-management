<link rel="import" href="../../../../../../../../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../styles/disaggregation-table-styles.html">
<link rel="import" href="../disaggregation-table-row.html">

<dom-module id="zero-disaggregations">
  <template strip-whitespace>

    <style include='disaggregation-table-styles'></style>

    <disaggregation-table-row
        data="[[totalRow]]"
        level-reported="[[data.level_reported]]"
        indicator-type="[[data.display_type]]"
        row-type="totalsRow"
        editable="[[editable]]">
    </disaggregation-table-row>

  </template>

  <script>
    'use strict';

    /**
     * @polymer
     * @customElement
     */
    class ZeroDisaggregations extends Polymer.Element {

      static get is() {
        return 'zero-disaggregations';
      }

      static get properties() {
        return {
          editable: Number,

          data: Object,

          totalRow: {
            type: Array,
            computed: '_determineTotalRow(mapping, data)'
          }
        };
      }

      _determineTotalRow(_, data) {
        if (!data) {
          return;
        }
        return {
          title: 'total',
          total: {
            key: '()',
            data: data.disaggregation['()'],
          },
        };
      }

    }

    window.customElements.define(ZeroDisaggregations.is, ZeroDisaggregations);
  </script>
</dom-module>
