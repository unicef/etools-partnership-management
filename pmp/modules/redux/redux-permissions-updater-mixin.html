<link rel="import" href="etools-data-redux-store.html">

<script>
  'use strict';

  window.EtoolsPmpApp = window.EtoolsPmpApp || {};
  window.EtoolsPmpApp.Mixins = window.EtoolsPmpApp.Mixins || {};

  /**
   * Mixin used to store page data permissions in redux and use in different components
   * @polymer
   * @mixinFunction
   * @appliesMixin EtoolsPmpApp.Mixins.EtoolsDataReduxStore
   */
  EtoolsPmpApp.Mixins.ReduxPermissionsUpdaterMixin = Polymer.dedupingMixin(
      superClass => class extends EtoolsPmpApp.Mixins.EtoolsDataReduxStore(superClass) {

        static get actions() {
          return {
            setPageDataPermissions: function(perm) {
              return {
                type: 'SET_PAGE_DATA_PERMISSIONS',
                permissions: perm
              };
            }
          };
        }

        updateReduxPermissionsData(perm) {
          this.dispatch('setPageDataPermissions', perm);
        }

      });
</script>
