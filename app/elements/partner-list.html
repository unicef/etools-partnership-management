<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../bower_components/paper-dropdown-menu/paper-dropdown-menu-light.html">
<link rel="import" href="../bower_components/paper-item/paper-item.html">
<link rel="import" href="../bower_components/paper-listbox/paper-listbox.html">
<link rel="import" href="../styles/shared-styles.html">

<link rel="import" href="./breadcrumb-trail.html">
<link rel="import" href="./partner-api.html">
<link rel="import" href="./partner-datagrid.html">

<dom-module id="partner-list">
  <template>
    <style include="shared-styles"></style>
    <style include="iron-flex"></style>
    <style>
        :host {
            display: block;
        }
    </style>
    <breadcrumb-trail></breadcrumb-trail>
    <div class="page-title" tabindex="-1">Partners</div>

    <div class="layout horizontal">
      <div id="searchKeywordInput" style="width: 200px; margin-right: 20px;">
        <paper-input label="Search Keyword" always-float-label value="{{keywordSearch}}" auto-validate allowed-pattern="[a-zA-Z0-9\s]" maxlength="50">
          <div prefix><iron-icon icon="icons:zoom-in"></iron-icon></div>
        </paper-input>
      </div>
      <div>
        <paper-dropdown-menu label="Partner Type" always-float-label value="{{partnerTypeSearch}}">
          <paper-listbox class="dropdown-content">
            <paper-item>Bilateral / Multilateral</paper-item>
            <paper-item>Civil Society Organization</paper-item>
            <paper-item>Government</paper-item>
            <paper-item>UN Agency</paper-item>
          </paper-listbox>
        </paper-dropdown-menu>
      </div>
      <div style="margin-left: 20px; margin-top: 12px;">
        <paper-button raised onclick="app.partnerResetSearch(event)">Reset</paper-button>
      </div>
    </div>

    <div>
      <partner-api
        url="/data/partner_data.json"
        data="{{dataFromApi}}"
        page="{{page}}"
        size="{{size}}"
        sort-property="[[sortProperty]]"
        total-elements="{{totalElements}}"
        total-pages="{{totalPages}}"
        search='{ "name": "{{keywordSearch}}", "partner_type": "{{partnerTypeSearch}}" }'>
      </partner-api>
      <partner-datagrid data="{{dataFromApi}}" page="{{page}}" size="{{size}}" total-elements="{{totalElements}}" total-pages="{{totalPages}}" sort-property="{{sortProperty}}"></partner-datagrid>
    </div>
  </template>
  <script>
    Polymer({
      is: 'partner-list'
    });
  </script>
</dom-module>