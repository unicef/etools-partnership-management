<link rel="import" href="../../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../../bower_components/paper-checkbox/paper-checkbox.html">
<link rel="import" href="../../../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">

<dom-module id="custom-checkbox">
  <template>
    <style include="iron-flex">
      :host {
        --paper-checkbox-label: {
          display: none;
        };
        --paper-checkbox-checked-color: var(--third-text-color);
        --paper-checkbox-unchecked-color: var(--secondary-text-color);
      }
      .custom-checkbox label {
        display: inline-block;
        width: 100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-size: var(--labels-secondary-font-size);
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
        text-transform: uppercase;
        text-align: center;
        cursor: pointer;
        color: var(--secondary-text-color);
      }
      .custom-checkbox.disabled label {
        opacity: 0.33;
      }
    </style>
    <div class$="custom-checkbox [[disabledClass]]">
      <label id="chLabel" class="layout horizontal center-justified" for="customCheckbox">[[label]]</label>
      <div class="layout horizontal center-justified">
        <paper-checkbox id="customCheckbox" checked="{{checked}}" disabled$="[[isDisabled]]"></paper-checkbox>
      </div>
    </div>
  </template>

  <script>
    (function() {

      'use strict';

      Polymer({
        is: 'custom-checkbox',
        properties: {
          checked: {
            type: Boolean,
            value: false,
            notify: true,
            reflectToAttribute: true
          },
          isDisabled: {
            type: Boolean,
            value: false,
            observer: '_updateDisabledClass'
          }
        },
        listeners: {
          'chLabel.tap': '_updateCheckboxVal'
        },
        _updateCheckboxVal: function() {
          this.checked = !this.checked;
        },
        _updateDisabledClass: function() {
          if (this.isDisabled === true) {
            this.disabledClass = 'disabled';
          } else {
            this.disabledClass = '';
          }
        }
      });

    })();
  </script>
</dom-module>
