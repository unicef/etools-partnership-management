<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../common/etools-ajax/etools-ajax.html">

<dom-module id="agreement-data">

  <template>
    <etools-ajax
          auto
          id="ajax"
          url="[[url]]"
          handle-as="json"
          on-response="handleResponse"
          debounce-duration="300">
    </etools-ajax>
  </template>

</dom-module>

<script>
(function() {
    // jscs:disable
  'use strict';

  Polymer({
    is: 'agreement-data',
    observers: ['_updateAgreements(agreements.*)'],
    properties: {
      partners: {
        type: Array,
        notify: true,
        value: []
      },
      url: {
        type: String,
        value: null
      }
    },
    ready: function(){
      this.$.ajax.endpoint = {ep: 'agreements'};
    },

    handleResponse: function(rsp) {
      this.partners = rsp.detail;
    },

    _updatePartners: function() {
      //console.log('Partners updated woo');
    }
  });
})();

</script>
