<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

  <title>Partners Page</title>

  <script src="../bower_components/webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../bower_components/web-component-tester/browser.js"></script>

  <!-- Import test helpers data -->
  <link rel="import" href="test-helpers/users-and-permissions-data-mockup.html">

  <link rel="import" href="../pmp/app-config/app-dexie-db-config.html">
  <!-- Import the element to test -->
  <link rel="import" href="../pmp/pages/page-partners.html">
</head>
<body>
  <test-fixture id="partners">
    <template>
      <page-partners></page-partners>
    </template>
  </test-fixture>

  <script>
    suite('page-partners tests', function() {
      let partners;
      setup(function() {
        partners = fixture('partners');
        partners.set('route', {
          prefix: '',
          path: 'partners/list',
          __queryParams: {size: 10, sort :'name.asc'}
        });
        partners.set('permissions', appUserPermissions);
      });

      test('Main partners element: page-partners', function() {
        assert.equal(partners.is, 'page-partners');
      });

      test('Default active page should be partners list', function() {
        expect(partners.route.path).to.equal('partners/list');
        expect(partners.partnerPage).to.equal('list');
        expect(partners.listActive).to.equal(true);
        expect(partners.tabsActive).to.equal(false);
        let listElement = partners.querySelector('#list');
        expect(listElement.is).to.equal('partners-list');
      });

//      test('Match url params with filters shown above list', function() {
//
//      });


    });
  </script>
</body>
</html>
